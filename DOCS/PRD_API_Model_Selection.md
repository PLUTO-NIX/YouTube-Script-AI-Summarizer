# PRD: YouTube Script AI Summarizer - API 모델 선택 기능 추가

## 1. 제품 개요

### 1.1 목적
기존 YouTube Script AI Summarizer에서 OpenAI API만 사용하던 것을 확장하여 Google Gemini API도 지원하고, 사용자가 원하는 AI 모델을 선택할 수 있도록 합니다.

### 1.2 배경
- 현재 o4-mini 모델만 지원하여 사용자 선택권이 제한됨
- 다양한 AI 모델을 통해 더 나은 요약 품질 제공 가능
- 사용자의 API 비용 최적화를 위한 모델 선택 옵션 필요

## 2. 기능 요구사항

### 2.1 핵심 기능
- **Google Gemini API 키 입력 및 저장**
  - Gemini API 키 입력 필드 추가
  - 키 검증 및 저장 기능
  - 키 관리 보안 강화

- **API 모델 선택 인터페이스**
  - 라디오 버튼 또는 드롭다운을 통한 모델 선택
  - OpenAI와 Gemini 모델 간 전환 가능
  - 선택한 모델 정보 저장

- **다중 AI 모델 지원**
  - OpenAI: o4-mini (기존)
  - Google Gemini: gemini-2.5-pro, gemini-1.5-pro

### 2.2 상세 기능

#### 2.2.1 설정 페이지 (options.html)
- **API 키 설정 섹션**
  - OpenAI API 키 입력 (기존 유지)
  - Google Gemini API 키 입력 (신규 추가)
  - 각 API 키 유효성 검증 기능

- **모델 선택 섹션**
  - 사용할 AI 모델 선택 라디오 버튼 그룹
  - 각 모델별 특징 및 비용 정보 표시
  - 선택한 모델에 따른 필수 API 키 안내

#### 2.2.2 AI 요약 생성
- 선택된 모델에 따른 적절한 API 호출
- 각 모델별 최적화된 파라미터 설정
- 에러 처리 및 fallback 메커니즘

### 2.3 사용자 인터페이스

#### 2.3.1 설정 페이지 추가 요소
```
[기존 OpenAI API 키 섹션]

[신규 Google Gemini API 키 섹션]
- 섹션 제목: "Google Gemini API Key"
- 설명: "Google AI Studio에서 발급받은 API 키를 입력하세요"
- 입력 필드: 비밀번호 타입
- 도움말 링크: API 키 발급 방법 안내

[신규 AI 모델 선택 섹션]
- 섹션 제목: "AI 모델 선택"
- 라디오 버튼 옵션:
  • OpenAI o4-mini (기본값)
  • Google Gemini 2.5 Pro
  • Google Gemini 1.5 Pro
- 각 모델별 특징 설명
```

#### 2.3.2 상태 표시
- 팝업에서 설정된 API 키 및 선택된 모델 상태 표시
- 요약 생성 시 사용된 모델 정보 표시

## 3. 비기능 요구사항

### 3.1 보안
- API 키는 로컬 스토리지에 암호화하여 저장
- 외부로 API 키 노출 방지
- 안전한 API 호출 구현

### 3.2 성능
- API 호출 타임아웃 설정
- 요약 생성 시간 최적화
- 네트워크 에러 시 적절한 처리

### 3.3 호환성
- 기존 OpenAI API 사용자 설정 유지
- 기존 저장된 요약 데이터 호환성
- 다양한 브라우저 환경 지원

## 4. 사용자 시나리오

### 4.1 신규 사용자 시나리오
1. 확장 프로그램 설치
2. 설정 페이지 접근
3. 원하는 AI 모델 선택
4. 해당 모델의 API 키 입력
5. 설정 저장 후 YouTube 페이지에서 요약 기능 사용

### 4.2 기존 사용자 시나리오
1. 기존 OpenAI 설정 자동 유지
2. 필요시 Gemini API 키 추가 입력
3. 모델 선택 옵션 사용하여 다른 모델 테스트
4. 선호하는 모델로 설정 변경

### 4.3 모델 전환 시나리오
1. 설정 페이지에서 다른 모델 선택
2. 해당 모델의 API 키 입력 (없는 경우)
3. 설정 저장
4. YouTube 페이지에서 새로운 모델로 요약 생성

## 5. 성공 지표

### 5.1 기능적 지표
- API 키 저장 성공률 100%
- 모델 선택 기능 정상 동작
- 각 모델별 요약 생성 성공률 95% 이상

### 5.2 사용자 경험 지표
- 모델 전환 시 3초 이내 반영
- 설정 페이지 직관적 사용성
- 에러 메시지 명확성

## 6. 제약 사항

### 6.1 기술적 제약
- Chrome Extension API 한계
- 각 AI 모델별 토큰 제한
- API 호출 빈도 제한

### 6.2 비즈니스 제약
- 사용자 API 키 비용 부담
- 각 AI 서비스 정책 준수
- 개인정보 보호 규정 준수

## 7. 향후 확장성

### 7.1 추가 모델 지원
- Claude API 지원 준비
- 기타 AI 모델 추가 가능 구조

### 7.2 고급 기능
- 모델별 성능 비교 기능
- 자동 모델 선택 기능
- 비용 최적화 제안 기능

## 8. 출시 계획

### 8.1 개발 단계
1. **Phase 1**: Gemini API 통합 (2주)
2. **Phase 2**: UI 개발 및 설정 기능 (1주)
3. **Phase 3**: 테스트 및 최적화 (1주)
4. **Phase 4**: 문서화 및 배포 (3일)

### 8.2 품질 보증
- 각 모델별 요약 품질 테스트
- 다양한 YouTube 콘텐츠 테스트
- 사용자 피드백 수집 및 반영 